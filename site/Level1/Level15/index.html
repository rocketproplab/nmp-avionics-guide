
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Level14/">
      
      
        <link rel="next" href="../Level16/">
      
      <link rel="icon" href="../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.6">
    
    
      
        <title>The Altimeter Module (BMP 280) - NMP Avionics Guide</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.558e4712.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#the-altimeter-module-bmp-280" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="NMP Avionics Guide" class="md-header__button md-logo" aria-label="NMP Avionics Guide" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NMP Avionics Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              The Altimeter Module (BMP 280)
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/rocketproplab/nmp-avionics-guide" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="NMP Avionics Guide" class="md-nav__button md-logo" aria-label="NMP Avionics Guide" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    NMP Avionics Guide
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/rocketproplab/nmp-avionics-guide" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        Contributing to this Guide
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" tabindex="0" aria-expanded="false">
          Level0
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Level0" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Level0
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Level0/Level00/" class="md-nav__link">
        Level 0 Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4" tabindex="0" aria-expanded="true">
          Level1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Level1" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Level1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Level10/" class="md-nav__link">
        Level 1: Start Here!
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Level11/" class="md-nav__link">
        Setting up the Software
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Level12/" class="md-nav__link">
        Arduino "Hello, World!"
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Level13/" class="md-nav__link">
        "Some Assembly Required"
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Level14/" class="md-nav__link">
        The Micro SD Card Module
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          The Altimeter Module (BMP 280)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        The Altimeter Module (BMP 280)
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#about-the-module" class="md-nav__link">
    About the Module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mounting-the-altimeter" class="md-nav__link">
    Mounting the Altimeter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#protocols-spi-and-i2c" class="md-nav__link">
    Protocols, SPI, and I2C
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wiring-the-module" class="md-nav__link">
    Wiring the Module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finding-the-i2c-address" class="md-nav__link">
    Finding the I2C Address
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-library" class="md-nav__link">
    The Library
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-the-module" class="md-nav__link">
    Testing the Module
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Level16/" class="md-nav__link">
        Making the Flight Computer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" tabindex="0" aria-expanded="false">
          Level2
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Level2" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Level2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Level2/Level20/" class="md-nav__link">
        Level 2: Above and Beyond
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Level2/Level21/" class="md-nav__link">
        MPU 6050
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#about-the-module" class="md-nav__link">
    About the Module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mounting-the-altimeter" class="md-nav__link">
    Mounting the Altimeter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#protocols-spi-and-i2c" class="md-nav__link">
    Protocols, SPI, and I2C
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wiring-the-module" class="md-nav__link">
    Wiring the Module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finding-the-i2c-address" class="md-nav__link">
    Finding the I2C Address
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-library" class="md-nav__link">
    The Library
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-the-module" class="md-nav__link">
    Testing the Module
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



<h1 id="the-altimeter-module-bmp-280">The Altimeter Module (BMP 280)</h1>
<p>In this chapter, we will integrate the BMP 280 module into the flight computer.</p>
<h2 id="about-the-module">About the Module</h2>
<p>The BMP280 module integrates a pressure sensor and temperature sensor onto a single chip. Because air pressure can be related closely to altitude, this module can function as an altimeter.</p>
<h2 id="mounting-the-altimeter">Mounting the Altimeter</h2>
<p>I mounted the altimeter on the breadboard between the Arduino and the SD Card module. Ensure that the pins of the BMP280 do not share any rows with the SD Card Module. If this occurs, signals intended for one module will be sent to both, causing undefined behavior.</p>
<p><img alt="Mounting the BMP module" src="../../assets/gifs/mountBmp.gif" /></p>
<h2 id="protocols-spi-and-i2c">Protocols, SPI, and I2C</h2>
<p>A protocol is an agreed-upon set of rules to dictate how information is passed in a system. A protocol allows two parties to know exactly how to transmit their messages such that they can be interpreted by the receiver.</p>
<p>There are two major protocols for communications between electronic modules: SPI, or Serial Port Interface, and I2C, or Inter-Integrated Circuit. These protocols describe how data is encoded and decoded into electronic signals that can be transmitted over wires. Each protocol has its advantages and disadvantages, but for our purposes, we can summarize the pros and cons as follows:</p>
<ul>
<li>SPI tends to be faster than I2C</li>
<li>SPI requires more wires than I2C</li>
<li>I2C uses addresses to differentiate different modules. I2C devices only require two wires for communication, and multiple I2C modules can be "chained" on a single pair of wires.</li>
</ul>
<p>The specific BMP280 module supports both I2C and SPI, but we will be using I2C as it is the default and it will make it easier to add additional modules if that interests you.</p>
<h2 id="wiring-the-module">Wiring the Module</h2>
<div class="admonition danger">
<p class="admonition-title"><strong>FEED THIS MODULE 3.3 VOLTS, <strong>NOT</strong> 5 VOLTS</strong></p>
<p>Unlike the SD Card Module, this module does not have a voltage regulator. The module is rated for 3.3 volts. Feeding the module 5 volts <strong>WILL</strong> fry it. FEED IT 3.3 VOLTS!!!</p>
</div>
<p>The BMP20 Card Module has 6 pins. This module can operate using either software SPI or I2C. As we are using I2C, we will only use 4 of the 6 pins. Wire them as directed by the table below.</p>
<table>
<thead>
<tr>
<th>BMP280 Pin</th>
<th>Row</th>
<th>Pin Purpose</th>
<th>Connect to Arduino Pin</th>
</tr>
</thead>
<tbody>
<tr>
<td>VCC</td>
<td>17</td>
<td>Provides <strong>3.3V of power</strong> to this module.</td>
<td>3.3V (IMPORTANT)</td>
</tr>
<tr>
<td>GND</td>
<td>18</td>
<td>Ground; current flows out  of here to complete the  circuit.</td>
<td>Any GND</td>
</tr>
<tr>
<td>SCL</td>
<td>19</td>
<td>"Serial Clock;" a repeating  signal used to synchronize communications</td>
<td>A5</td>
</tr>
<tr>
<td>SDA</td>
<td>20</td>
<td>"Serial Data;" transmits data from module to Arduino</td>
<td>A4</td>
</tr>
<tr>
<td>CSB</td>
<td>21</td>
<td>"Chip Select," used by the Arduino to differentiate multiple SPI modules during initialization.</td>
<td>Do not wire; treating this as an I2C device.</td>
</tr>
<tr>
<td>SDO</td>
<td>22</td>
<td>"Serial Data Out;" transmits data from module to Arduino</td>
<td>Do not wire; treating this as an I2C device.</td>
</tr>
</tbody>
</table>
<p>The following images demonstrate functioning wiring:</p>
<p><img alt="Functional Wiring A" src="../../assets/bmpWiringA.jpg" /></p>
<p><img alt="Functional Wiring B" src="../../assets/bmpWiringB.jpg" /></p>
<p><img alt="Functional Wiring C" src="../../assets/bmpWiringC.jpg" /></p>
<h2 id="finding-the-i2c-address">Finding the I2C Address</h2>
<div class="admonition danger">
<p class="admonition-title">Check your Wiring before Power Up</p>
<p>Once again: this module does not have a voltage regulator. The module is rated for 3.3 volts. Feeding the module 5 volts <strong>WILL</strong> fry it. FEED IT 3.3 VOLTS!!! Incorrect wiring for other pins could also potentially fry the board. Double check, DO NOT BE LAZY!!!</p>
</div>
<p>I2C modules are given unique addresses to differentiate them. Typically, the manufacturer assigns this address arbitrarily and writes the accompanying code library to use that address as the default address. As we got a knockoff board, it is likely that the address of the module is different to that of the library's default address. Thus, in order to communicate with our BMP280, we will need it know its I2C address. </p>
<p>There are two ways to find the address. The first is looking for the module's datasheet. These can be unwieldy to read for beginners, so we will instead find the address using an example Arduino sketch.</p>
<p>Open the Arduino IDE. Then, navigate to File &gt; Examples &gt; Wire &gt; i2c_scanner. This example code iterates through every possible I2C address and outputs any detected modules to the Serial Monitor. Because we only have one I2C module wired up, (the SD card module is SPI) the one module we detect is our BMP280. </p>
<p>Upload the code to your Arduino Nano and open the Serial Monitor. If you wired the module correctly, you should see an output like the following:</p>
<div class="highlight"><span class="filename">I2C Scanner Output</span><pre><span></span><code>22:02:02.103 -&gt; I2C Scanner
22:02:02.103 -&gt; Scanning...
22:02:02.103 -&gt; I2C device found at address 0x76  !
22:02:02.148 -&gt; done
</code></pre></div>
<p>This tells us the I2C address for our BMP module is 0x76. The '0x' denotes a hexadecimal number; we can represent this number in decimal as 118. <strong>Yours may be different. Just keep this value somewhere handy for the next sections.</strong></p>
<h2 id="the-library">The Library</h2>
<p>The genuine Adafruit Bmp280 library should be compatible with our Bmp280 module. Unlike the SD Card Module, the Arduino IDE does not come with this library. We can install it via two methods:</p>
<ul>
<li>We could install manually by <a href="https://github.com/adafruit/Adafruit_BMP280_Library">downloading the ZIP from the Github page</a> and placing it in the correct directory. (There is a time a place for this, but no thanks.)</li>
<li>Install via the Arduino Library Manager (Yeah, this one.)</li>
</ul>
<p>To open the Arduino Library Manager, click the books icon on the left-hand side of the screen. Or, use the <span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-shift">Shift</kbd><span>+</span><kbd class="key-i">I</kbd></span> keyboard shortcut. Then, type <code>adafruit bmp280</code> into the search bar -- it should be the first result. To install the library, hover your mouse over the library and click install. When prompted to install dependencies for the library, click "install all." Once installed, restart your Arduino IDE. The following gif demonstrates this workflow:</p>
<p><img alt="Bmp280 Install Guide" src="../../assets/gifs/installBmp280.gif" /></p>
<h2 id="testing-the-module">Testing the Module</h2>
<p>We will test this module using yet another example sketch. The folks at Adafruit provide us with some examples to see how to use the library. In the Arduino IDE, navigate to File &gt; Examples &gt; Adafruit Bmp280 Library &gt; bmp280test.</p>
<p>If we upload and run this example without changing it, we will get the following output from the Serial Monitor:</p>
<div class="highlight"><span class="filename">Unmodified Bmp280 Example Output</span><pre><span></span><code>02:46:46.040 -&gt; BMP280 test
02:46:46.040 -&gt; Could not find a valid BMP280 sensor, check wiring or try a different address!
02:46:46.105 -&gt; SensorID was: 0x0
02:46:46.139 -&gt;         ID of 0xFF probably means a bad address, a BMP 180 or BMP 085
02:46:46.206 -&gt;    ID of 0x56-0x58 represents a BMP 280,
02:46:46.239 -&gt;         ID of 0x60 represents a BME 280.
02:46:46.306 -&gt;         ID of 0x61 represents a BME 680.
</code></pre></div>
<p>This occurs because the library is trying to use the default address that Adafruit assigns to their genuine modules. Luckily, the Adafruit library provides a way to override this address. We're looking for the line <code>bmp.begin()</code>. This function initializes the connection between the Arduino and the Bmp280. It has an undocumented overload that allows us to pass in an address directly.</p>
<p>Change the line <code>bmp.begin()</code> (for me, it was on line 37) to <code>bmp.begin(&lt;I2C ADDRESS YOU FOUND IN THE "Finding the I2C Address" SECTION&gt;)</code> (for me, it would be <code>bmp.begin(0x76)</code>). Then, compile and upload.</p>
<p>The Serial Monitor should now display approximate temperature and altitude data. Awesome!</p>
<div class="highlight"><span class="filename">Functioning Bmp280 Output</span><pre><span></span><code>02:55:10.901 -&gt; BMP280 test
02:55:13.047 -&gt; Temperature = 19.90 *C
02:55:13.047 -&gt; Pressure = 100500.05 Pa
02:55:13.081 -&gt; Approx altitude = 68.91 m
02:55:13.081 -&gt; 
02:55:15.046 -&gt; Temperature = 19.90 *C
02:55:15.046 -&gt; Pressure = 100501.29 Pa
02:55:15.078 -&gt; Approx altitude = 68.81 m
</code></pre></div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy"], "search": "../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.51d95adb.min.js"></script>
      
    
  </body>
</html>